# è¯å•æŸ¥è¯¢æ—¶é—´èŒƒå›´è¯´æ˜Ž

## ðŸ“… æ—¶é—´æŸ¥è¯¢é€»è¾‘

### åŽç«¯å¤„ç†

åŽç«¯ä¼šè‡ªåŠ¨å¤„ç†ç»“æŸæ—¶é—´ï¼Œ**åŠ 1å¤©**ä»¥åŒ…å«å½“å¤©çš„æ‰€æœ‰æ•°æ®ï¼š

```python
# backend/app/routers/cdr.py
begin_dt = datetime.strptime(query_params.begin_time, '%Y%m%d')  # 00:00:00
end_dt = datetime.strptime(query_params.end_time, '%Y%m%d') + timedelta(days=1)  # æ¬¡æ—¥00:00:00
```

### æŸ¥è¯¢ç¤ºä¾‹

**æŸ¥è¯¢ 2025å¹´10æœˆ23æ—¥ çš„æ‰€æœ‰è¯å•ï¼š**

å‰ç«¯è®¾ç½®ï¼š
- å¼€å§‹æ—¥æœŸï¼š`2025-10-23`
- ç»“æŸæ—¥æœŸï¼š`2025-10-23`

åŽç«¯å®žé™…æŸ¥è¯¢ï¼š
- å¼€å§‹æ—¶é—´ï¼š`2025-10-23 00:00:00`
- ç»“æŸæ—¶é—´ï¼š`2025-10-24 00:00:00`ï¼ˆè‡ªåŠ¨åŠ 1å¤©ï¼‰

è¿™æ ·å°±åŒ…å«äº†10æœˆ23æ—¥ä»Ž00:00:00åˆ°23:59:59çš„æ‰€æœ‰æ•°æ®ã€‚

**æŸ¥è¯¢ 2025å¹´10æœˆ22æ—¥ åˆ° 10æœˆ23æ—¥ çš„è¯å•ï¼š**

å‰ç«¯è®¾ç½®ï¼š
- å¼€å§‹æ—¥æœŸï¼š`2025-10-22`
- ç»“æŸæ—¥æœŸï¼š`2025-10-23`

åŽç«¯å®žé™…æŸ¥è¯¢ï¼š
- å¼€å§‹æ—¶é—´ï¼š`2025-10-22 00:00:00`
- ç»“æŸæ—¶é—´ï¼š`2025-10-24 00:00:00`ï¼ˆè‡ªåŠ¨åŠ 1å¤©ï¼‰

åŒ…å«22æ—¥å’Œ23æ—¥ä¸¤å¤©çš„å®Œæ•´æ•°æ®ã€‚

## ðŸŽ¯ ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·è®¾è®¡ï¼Ÿ

### é—®é¢˜
å¦‚æžœä¸åŠ 1å¤©ï¼ŒæŸ¥è¯¢ `2025-10-23` ä¼šå˜æˆï¼š
- å¼€å§‹ï¼š`2025-10-23 00:00:00`
- ç»“æŸï¼š`2025-10-23 00:00:00`

è¿™æ ·æ— æ³•æŸ¥åˆ°ä»»ä½•æ•°æ®ï¼ˆèŒƒå›´ä¸º0ï¼‰ï¼

### è§£å†³æ–¹æ¡ˆ
åŽç«¯è‡ªåŠ¨ç»™ç»“æŸæ—¶é—´åŠ 1å¤©ï¼š
- å¼€å§‹ï¼š`2025-10-23 00:00:00`
- ç»“æŸï¼š`2025-10-24 00:00:00`

è¿™æ ·å°±èƒ½æŸ¥åˆ°10æœˆ23æ—¥å…¨å¤©çš„æ•°æ®ã€‚

## ðŸ“ å‰ç«¯æ˜¾ç¤º

### æŸ¥è¯¢è¡¨å•æç¤º
```
å¼€å§‹æ—¥æœŸï¼ˆå«å½“å¤©00:00ï¼‰
ç»“æŸæ—¥æœŸï¼ˆå«å½“å¤©23:59ï¼‰
```

### æ—¶é—´æ˜¾ç¤ºæ ¼å¼

**åˆ—è¡¨æ˜¾ç¤º**ï¼šå®Œæ•´æ ¼å¼
```
2025-10-23 09:04
```

**æ˜¾ç¤ºå†…å®¹**ï¼š
- å¹´-æœˆ-æ—¥ æ—¶:åˆ†
- ä¸æ˜¾ç¤ºç§’ï¼ˆç®€åŒ–ç•Œé¢ï¼‰

## ðŸ” å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæˆ‘è®¾ç½®æŸ¥è¯¢10æœˆ23æ—¥ï¼Œä½†éœ€è¦è®¾ç½®ä¸º10-22åˆ°10-23ï¼Ÿ
**A**: è¿™æ˜¯è¯¯è§£ï¼æ­£ç¡®æ–¹å¼æ˜¯ï¼š
- å¼€å§‹ï¼š10-23
- ç»“æŸï¼š10-23
- åŽç«¯ä¼šè‡ªåŠ¨å¤„ç†ä¸ºï¼š10-23 00:00 åˆ° 10-24 00:00

### Q2: å¦‚æžœæˆ‘æƒ³æŸ¥è¯¢å¤šå¤©çš„æ•°æ®ï¼Ÿ
**A**: 
- æŸ¥è¯¢10æœˆ20æ—¥åˆ°10æœˆ23æ—¥
- å¼€å§‹ï¼š10-20
- ç»“æŸï¼š10-23
- å®žé™…æŸ¥è¯¢ï¼š10-20 00:00 åˆ° 10-24 00:00
- åŒ…å«20ã€21ã€22ã€23å…±4å¤©çš„å®Œæ•´æ•°æ®

### Q3: æœ€å¤šå¯ä»¥æŸ¥è¯¢å¤šå°‘å¤©ï¼Ÿ
**A**: 
- ç³»ç»Ÿé™åˆ¶ï¼šæœ€å¤š31å¤©
- è¶…è¿‡31å¤©ä¼šæç¤ºé”™è¯¯
- å»ºè®®ï¼šåˆ†æ‰¹æŸ¥è¯¢å¤§èŒƒå›´æ•°æ®

### Q4: å¯ä»¥æŸ¥è¯¢å¤šä¹…ä»¥å‰çš„æ•°æ®ï¼Ÿ
**A**:
- ç³»ç»Ÿé™åˆ¶ï¼š1å¹´å†…çš„æ•°æ®
- è¶…è¿‡1å¹´çš„æ•°æ®åœ¨å½’æ¡£ç³»ç»Ÿä¸­

## ðŸ’¡ æœ€ä½³å®žè·µ

1. **æŸ¥è¯¢å•å¤©æ•°æ®**ï¼šå¼€å§‹å’Œç»“æŸè®¾ç½®ä¸ºåŒä¸€å¤©
2. **æŸ¥è¯¢èŒƒå›´æ•°æ®**ï¼šå¼€å§‹è®¾ç½®ä¸ºç¬¬ä¸€å¤©ï¼Œç»“æŸè®¾ç½®ä¸ºæœ€åŽä¸€å¤©
3. **å¤§èŒƒå›´æŸ¥è¯¢**ï¼šå»ºè®®ä¸è¶…è¿‡7å¤©ï¼Œæ€§èƒ½æ›´å¥½
4. **å¯¼å‡ºæ•°æ®**ï¼šå…ˆæŸ¥è¯¢åŽå¯¼å‡ºï¼Œä¸è¦ç›²ç›®å¯¼å‡ºå¤§é‡æ•°æ®

## ðŸ”§ æŠ€æœ¯å®žçŽ°

### å‰ç«¯ä¼ å‚
```javascript
{
  begin_time: "20251023",  // yyyyMMddæ ¼å¼
  end_time: "20251023"
}
```

### åŽç«¯å¤„ç†
```python
begin_dt = datetime.strptime(begin_time, '%Y%m%d')
end_dt = datetime.strptime(end_time, '%Y%m%d') + timedelta(days=1)

# æŸ¥è¯¢æ¡ä»¶
WHERE start_time >= begin_dt AND start_time < end_dt
```

### æ—¶é—´å­—æ®µæ ¼å¼

åŽç«¯å¯èƒ½è¿”å›žä»¥ä¸‹æ ¼å¼ï¼š
1. **æ¯«ç§’æ—¶é—´æˆ³**ï¼ˆæ•°å­—ï¼‰ï¼š`1729656240000`
2. **æ•°å­—å­—ç¬¦ä¸²**ï¼š`"1729656240000"`
3. **æ ¼å¼åŒ–å­—ç¬¦ä¸²**ï¼š`"2025-10-23 09:04:15"`

å‰ç«¯ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶ç»Ÿä¸€æ˜¾ç¤ºä¸ºï¼š`2025-10-23 09:04`

---

**æ›´æ–°æ—¥æœŸ**: 2025-10-24
**ç‰ˆæœ¬**: 1.0

